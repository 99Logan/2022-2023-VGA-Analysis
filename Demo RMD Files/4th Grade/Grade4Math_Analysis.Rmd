---
title: "Grade 4 Math"
author: "Logan Brady"
date: "2023-02-06"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

#Importing library packages
```{r}
library(arsenal)
library(dplyr)
library(ggplot2)
library(ggpubr)
library(tidyr)
library(tidyverse)
library(data.table)
library(readxl)
library(readr)
```

#Importing 4th Grade Reading Data files
```{r}

Math_Fall4 <- read_excel("C:/Users/Logan/OneDrive/Desktop/VGA Analysis/Raw VGA Scores/4th VGA Analysis - 22-23.xlsx", sheet = 8)
Math_Winter4 <- read_excel("C:/Users/Logan/OneDrive/Desktop/VGA Analysis/Raw VGA Scores/4th VGA Analysis - 22-23.xlsx", sheet = 9)

View(Math_Fall4)
View(Math_Winter4)
```

#Cleaning the datasets.

#Comparing two datasets using comparedf()
```{r}
summary(comparedf(Math_Fall4, Math_Winter4))
```

#How to return column titles
```{r}
head(x = Math_Fall4)
colnames(x = Math_Fall4)

head(x = Math_Winter4)
colnames(x = Math_Winter4)
```

#Rename data columns
```{r}
colnames(Math_Fall4)[1] = "Last Name"
colnames(Math_Fall4)[2] = "First Name"
colnames(Math_Fall4)[3] = "ID"
colnames(Math_Fall4)[4] = "Test Name"
colnames(Math_Fall4)[5] = "Teacher"
colnames(Math_Fall4)[6] = "Date"
colnames(Math_Fall4)[7] = "Vertical Scaled Score"

colnames(Math_Winter4)[1] = "Last Name"
colnames(Math_Winter4)[2] = "First Name"
colnames(Math_Winter4)[3] = "ID"
colnames(Math_Winter4)[4] = "Test Name"
colnames(Math_Winter4)[5] = "Teacher"
colnames(Math_Winter4)[6] = "Date"
colnames(Math_Winter4)[7] = "Vertical Scaled Score"

colnames(x = Math_Fall4)
colnames(x = Math_Winter4)
```

#Manipulating record numbers 57 and 99 in Math_Fall4 to make them unique indentifiers. Changing "LYON" to "LYON C." and "URENA" to "URENA A.".
```{r}
Math_Fall4[57, 1] <- "LYON C."
Math_Fall4[99, 1] <- "URENA A."

view(Math_Fall4)
```

#Manipulating record numbers 52 and 92 in Math_Fall4 to make them unique indentifiers. Changing "LYON" to "LYON C." and "URENA" to "URENA A.".
```{r}
Math_Winter4[52, 1] <- "LYON C."
Math_Winter4[92, 1] <- "URENA A."

view(Math_Winter4)
```

#Comparing records, using SETDIFF, it shows what occurs in Fall and what doesn't occur in Winter.
```{r}
setdiff(Math_Fall4$"Last Name", Math_Winter4$"Last Name")
```

#Comparing records, using SETDIFF, it shows what occurs in Winter and what doesn't occur in Fall.
```{r}
setdiff(Math_Winter4$"Last Name", Math_Fall4$"Last Name")
```

#Create a data table named NoWinterMath4, using the SETDIFF Math_Fall4 output.
```{r}
NoWinterMath4 <- setDT(Math_Fall4, key = "Last Name")[J(c("DIGIACOMO", "GALICIA", "HEDRICK", "HERNANDEZ G", "HIGGS", 
                                                          "PARKER", "PEREZ BELTR", "WHITE", "WILSON", "YUNG"))]
head(NoWinterMath4)
View(NoWinterMath4)
```

#Create a data table named NoFallMath4, using the SETDIFF Math_Winter4 output.
```{r}
NoFallMath4 <- setDT(Math_Winter4, key = "Last Name")[J(c("ROCHA", "WHITEHURST"))]
head(NoFallMath4)
View(NoFallMath4)
```

#Remove saved records from Fall. The records are  24, 30, 40, 42, 43, 75, 77, 100, 103, and 107. They are saved under NoWinterMath4. RUN ONLY ONCE PER SEQUENCE!
```{r}
Math_Fall4 <- Math_Fall4[-c(24, 30, 40, 42, 43, 75, 77, 100, 103, 107),]
View(Math_Fall4)
```

#Remove saved records from Winter. The records are 75 and 94 . They are saved under NoFallMath4. RUN ONLY ONCE PER SEQUENCE!
```{r}
Math_Winter4 <- Math_Winter4[-c(75, 94),]
View(Math_Winter4)
```

#At this point, Math_Fall4 and Math_Winter4 should have a total of 97 records.
#Save each dataframe, datatable, and datasheet as CSV files.
```{r}
write.csv(Math_Fall4, "Math_Fall4.csv")
write.csv(NoWinterMath4, "NoWinterMath4.csv")

write.csv(Math_Winter4, "Math_Winter4.csv")
write.csv(NoFallMath4, "NoFallMath4.csv")
```