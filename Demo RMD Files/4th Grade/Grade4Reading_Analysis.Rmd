---
title: "Grade 4 Reading"
author: "Logan Brady"
date: "2023-02-05"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

#Importing library packages
```{r}
library(arsenal)
library(dplyr)
library(ggplot2)
library(ggpubr)
library(tidyr)
library(tidyverse)
library(data.table)
library(readxl)
library(readr)
```

#Importing 4th Grade Reading Data files
```{r}

Reading_Fall4 <- read_excel("C:/Users/Logan/OneDrive/Desktop/VGA Analysis/Raw VGA Scores/4th VGA Analysis - 22-23.xlsx", sheet = 5)
Reading_Winter4 <- read_excel("C:/Users/Logan/OneDrive/Desktop/VGA Analysis/Raw VGA Scores/4th VGA Analysis - 22-23.xlsx", sheet = 6)

View(Reading_Fall4)
View(Reading_Winter4)
```

#Cleaning the datasets.

#Comparing two datasets using comparedf()
```{r}
summary(comparedf(Reading_Fall4, Reading_Winter4))
```

#How to return column titles
```{r}
head(x = Reading_Fall4)
colnames(x = Reading_Fall4)

head(x = Reading_Winter4)
colnames(x = Reading_Winter4)
```

#Rename data columns
```{r}
colnames(Reading_Fall4)[1] = "Last Name"
colnames(Reading_Fall4)[2] = "First Name"
colnames(Reading_Fall4)[3] = "Teacher"
colnames(Reading_Fall4)[4] = "Vertical Scaled Score"

colnames(Reading_Winter4)[1] = "Last Name"
colnames(Reading_Winter4)[2] = "First Name"
colnames(Reading_Winter4)[3] = "Teacher"
colnames(Reading_Winter4)[4] = "Vertical Scaled Score"

colnames(x = Reading_Fall4)
colnames(x = Reading_Winter4)
```

#Manipulating record numbers 56 and 98 in Reading_Fall4 to make them unique indentifiers. Changing "LYON" to "LYON C." and "URENA" to "URENA A.".
```{r}
Reading_Fall4[56, 1] <- "LYON C."
Reading_Fall4[98, 1] <- "URENA A."

view(Reading_Fall4)
```

#Manipulating record number 52 in Reading_Winter4 to make it a unique indentifier. Changing "LYON" to "LYON C.".
```{r}
Reading_Winter4[52, 1] <- "LYON C."

view(Reading_Winter4)
```

#Comparing records, using SETDIFF, it shows what occurs in Fall and what doesn't occur in Winter.
```{r}
setdiff(Reading_Fall4$"Last Name", Reading_Winter4$"Last Name")
```

#Comparing records, using SETDIFF, it shows what occurs in Winter and what doesn't occur in Fall.
```{r}
setdiff(Reading_Winter4$"Last Name", Reading_Fall4$"Last Name")
```

#Create a data table named NoWinterReading4, using the SETDIFF Reading_Fall4 output.
```{r}
NoWinterReading4 <- setDT(Reading_Fall4, key = "Last Name")[J(c("ANDERSON", "GAZES", "HARRIS", "LOPEZ", 
                                                              "PEREZ BELTR", "SALAZAR", "SLYKHUIS", "URENA A.", 
                                                              "WILLIAMS", "YOUNG", "YUNG"))]
head(NoWinterReading4)
View(NoWinterReading4)
```

#Create a data table named NoFallReading4, using the SETDIFF Reading_Winter4 output.
```{r}
NoFallReading4 <- setDT(Reading_Winter4, key = "Last Name")[J(c("ROCHA", "UGURLU", "WHITEHURST"))]

head(NoFallReading4)
View(NoFallReading4)
```

#Remove saved records from Fall. The records are 4, 31, 38, 54, 77, 84, 91, 98, 102, 106, and 107. They are saved under NoWinterReading4. RUN ONLY ONCE PER SEQUENCE!
```{r}
Reading_Fall4 <- Reading_Fall4[-c(4, 31, 38, 54, 77, 84, 91, 98, 102, 106, 107),]
View(Reading_Fall4)
```

#Remove saved records from Winter. The records are 77, 92, and 95. They are saved under NoFallReading4. RUN ONLY ONCE PER SEQUENCE!
```{r}
Reading_Winter4 <- Reading_Winter4[-c(77, 92, 95),]
View(Reading_Winter4)
```

#At this point Reading_Fall4 and Reading_Winter4 should have 96 records for analysis.

#Save each dataframe, datatable, and datasheet as CSV files.
```{r}
write.csv(Reading_Fall4, "Reading_Fall4.csv")
write.csv(NoWinterReading4, "NoWinterReading4.csv")

write.csv(Reading_Winter4, "Reading_Winter4.csv")
write.csv(NoFallReading4, "NoFallReading4.csv")
```